(this.webpackJsonpletters=this.webpackJsonpletters||[]).push([[0],{19:function(e,t,n){},32:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(2),r=n.n(a),s=n(20),l=n.n(s),i=(n(32),n(8)),o=n.n(i),u=n(10),j=n(6),d=n(5),b=n.n(d),m=(n(19),n(21)),p=n(9),f=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],s=n[1],l=Object(a.useState)(!1),i=Object(j.a)(l,2),o=i[0],u=i[1],d=Object(a.useState)(""),f=Object(j.a)(d,2),O=f[0],h=f[1],x=e.reRending,v=e.removeLetter,g=e.AiOutlineDelete,w=e.MdModeEdit,N=e.letter,C=function(e){b.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",e.preventDefault();var t=e.target.id.split(",")[0],n=e.target.id.split(",")[1];window.confirm("\uc9c4\uc9dc \ub313\uae00 \uc9c0\uc6b8\uaebc\uc57c?")&&(b.a.delete("http://localhost:4001/api/comments/".concat(t,"/").concat(n)),alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2f7"),x())};return Object(c.jsxs)("div",{className:"letters-wrapper",children:[N.createdAt.toLocaleString(),Object(c.jsxs)("div",{className:"letters-content",children:[N.msg,Object(c.jsxs)("div",{className:"letters-content-wapper",children:[Object(c.jsx)("span",{className:"letters-content-delete",children:Object(c.jsx)(g,{id:N._id,onClick:function(e){return v(e)}})}),Object(c.jsxs)("span",{className:"letters-content-reply",onClick:function(){u(!o)},children:[Object(c.jsx)(m.a,{id:N._id}),"(",N.cmt.length,")"]}),o&&N.cmt.map((function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"letters-reply-wapper",children:[Object(c.jsx)("div",{className:"replyTime",children:e.createdAt}),Object(c.jsxs)("span",{className:"replyComment",children:[Object(c.jsx)(p.b,{}),e.cmt]}),Object(c.jsx)("div",{className:"letters-reply-delete",children:Object(c.jsx)(g,{id:[N._id,e._id],onClick:C})})]},e._id)})})),Object(c.jsx)("span",{className:"letters-content-modify",onClick:function(){s(!r)},children:Object(c.jsx)(w,{})}),r&&Object(c.jsxs)("form",{className:"letters-reply-form",onSubmit:function(e){b.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",e.preventDefault(),O&&!/^\s*$/.test(O)?(b.a.post("http://localhost:4001/api/comments/".concat(e.target.id),{cmt:O,createdAt:(new Date).toLocaleString()}).then((function(e){console.log(e),alert("\uc81c\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2f7")})),x()):alert("\uc4f8 \ub9d0\uc774 \uadf8\ub807\uac8c \uc5c6\ub2c8 \ub3c4\ub300\uccb4?")},id:N._id,children:[Object(c.jsx)("input",{onChange:function(e){h(e.target.value)},type:"Text",name:"name",autoComplete:"off",value:O,placeholder:"\uc5b4\ub5a4 \ub313\uae00\uc744 \ub2ec\uaebc\ub2c8?",required:!0}),Object(c.jsx)("button",{className:"button",children:"\uc81c\ucd9c"})]})]}),Object(c.jsx)("div",{})]},N._id)]})},O=n(22),h=n(23),x=function(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),l=Object(j.a)(s,2),i=l[0],d=l[1],m=function(){return Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:4001/api/letters");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()};Object(a.useEffect)((function(){m().then((function(e){r(e.data)}))}),[i]);var x=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\ud83d\ude80 ~ file: Letters.js ~ line 32 ~ removeLetter ~ e",t),n="http://localhost:4001/api/letters/".concat(t.target.id),!window.confirm("\uc9c4\uc9dc \uc9c0\uc6b8\uaebc\uc57c? \ub108 \ud3b8\uc9c0\ub97c \uc9c0\uc6b8\uaebc\ub2c8? \uc9c4\uc9dc\ub85c?")){e.next=7;break}return e.next=5,b.a.delete(n).then((function(e){alert("\uc9c0\uc6cc\uc84c\uc5b4 \ub098\uc05c\ub188\uc544")})).catch((function(e){console.log(e)}));case 5:e.next=8;break;case 7:return e.abrupt("return");case 8:v();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){d(!i)};return n?n.map((function(e){return Object(c.jsx)(f,{letter:e,reRending:v,AiOutlineDelete:h.a,MdModeEdit:p.a,removeLetter:x})})):Object(c.jsx)("div",{className:"letters-wrapper",children:Object(c.jsxs)("div",{className:"letters-content",children:["\ud3b8\uc9c0\ub97c \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0\uc11c \ubd88\ub7ec\uc624\uace0 \uc788\ub294\ub370 \uc624\ub958\uac00 \uc788\uc73c\uba74 \uc548\ub730\uaebc\uc57c \uc0c8\ub85c\uace0\uce68 \ud574\ubcf4\ub834.."," ",Object(c.jsx)("div",{className:"wrap",children:Object(c.jsx)("button",{className:"button",onClick:function(){return v()},children:Object(c.jsx)(O.a,{})})})]})})},v=(n(51),function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("form",{className:"letter-form",onSubmit:function(e){e.preventDefault(),n&&!/^\s*$/.test(n.msg)?(b.a.post("http://localhost:4001/api/letters",{msg:n,createdAt:(new Date).toLocaleString()}).then((function(e){console.log(e),alert("\uc81c\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2f7"),window.location.reload()})),r("")):alert("\uc4f8 \ub9d0\uc774 \uadf8\ub807\uac8c \uc5c6\ub2c8 \ub3c4\ub300\uccb4?")},children:[Object(c.jsx)("h2",{children:"\uc218\ube48\uc774 \ud55c\ud0dc \ud3b8\uc9c0\uc4f0\uae30"}),Object(c.jsx)("textarea",{className:"letter-textarea",type:"Text",placeholder:"\uc5b4\ub5a4 \ub9d0\uc744 \uc4f0\uace0 \uc2f6\ub2c8?",value:n,name:"text",onChange:function(e){r(e.target.value)}}),Object(c.jsx)("div",{className:"wrap",children:Object(c.jsx)("button",{className:"button",children:"\uc81c\ucd9c"})})]})}),g=(n(52),n(24));var w=function(){return Object(c.jsxs)("div",{className:"body-warpper",children:[Object(c.jsxs)(g.a,{children:[Object(c.jsx)("meta",{charSet:"utf-8"}),Object(c.jsx)("title",{children:"\uc218\ube48\uc774 \ud55c\ud0dc \ud3b8\uc9c0\uc4f0\uae30"})]}),Object(c.jsx)(v,{}),Object(c.jsx)(x,{})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),N()}},[[56,1,2]]]);
//# sourceMappingURL=main.72dbc0c9.chunk.js.map